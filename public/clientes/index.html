<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Clientes - REMO</title>
    <link rel="stylesheet" href="cliente.css">
</head>
<body>

<div class="layout">
    <!-- SIDEBAR PADR√ÉO REMO -->
    <aside class="sidebar">
        <img src="/logosfundo.png" class="logo" alt="Remo Logo">

        <ul>
            <li><a href="/dashboard.html">üè† Dashboard</a></li>
            <li><a href="/clientes/index.html" class="active">üë• Clientes</a></li>
            <li><a href="/emprestimos/index.html">üí∞ Empr√©stimos</a></li>
            <li><a href="/pagamentos/index.html">üìÑ Pagamentos</a></li>
            <li><a href="/relatorios/index.html">üìä Relat√≥rios</a></li>
        </ul>
    </aside>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="content">
        <div class="container-card">
            <div class="header">
                <h1>Clientes</h1>
                <button id="novoClienteBtn" class="btn-primary" onclick="abrirFormulario()">+ Novo Cliente</button>
            </div>

            <div class="table-wrapper">
                <div class="toolbar-clientes">
                    <input 
                      id="filtroCliente" 
                      type="search" 
                      placeholder="Buscar por nome, CPF ou telefone..."
                    >
                  </div>
                  
                <table>
                    <thead>
                        <tr>
                          <th>ID</th>
                          <th>Nome</th>
                          <th>CPF</th>
                          <th>Telefone</th>
                          <th>Renda mensal</th>
                          <th>Situa√ß√£o prof.</th>
                          <th>Status</th>
                          <th>Desde</th>
                          <th>Empr√©stimos</th>
                          <th class="col-acoes">A√ß√µes</th>
                        </tr>
                      </thead>                      
                    <tbody>                
                        <!-- preenchido pelo clientes.js -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>

<!-- MODAL -->
<div id="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="titulo-modal">Novo Cliente</h2>
            <button type="button" class="modal-close" onclick="fecharFormulario()">&times;</button>
        </div>
        
            <form id="form-cliente">
                <input type="hidden" id="id">
            
                <label for="nome">Nome:</label>
                <input type="text" id="nome" required>
            
                <label for="cpf">CPF:</label>
                <input
                    type="text"
                    id="cpf"
                    maxlength="11"
                    oninput="this.value = this.value.replace(/\D/g, '')"
                >
                <span id="erro-cpf" class="erro-campo"></span>
            
                <label for="rg">RG:</label>
                <input type="text" id="rg">
            
                <label for="telefone">Telefone:</label>
                <input type="text" id="telefone">
            
                <label for="situacao_profissional">Situa√ß√£o profissional:</label>
                <select id="situacao_profissional">
                    <option value="">Selecione...</option>
                    <option value="CLT">CLT</option>
                    <option value="Aut√¥nomo">Aut√¥nomo</option>
                    <option value="Aposentado">Aposentado</option>
                    <option value="Pensionista">Pensionista</option>
                    <option value="Servidor P√∫blico">Servidor P√∫blico</option>
                    <option value="Desempregado">Desempregado</option>
                    <option value="MEI / Empres√°rio">MEI / Empres√°rio</option>
                    <option value="Outro">Outro</option>
                </select>
            
                <label for="renda_mensal">Renda mensal (R$):</label>
                <input type="number" id="renda_mensal" min="0" step="0.01" inputmode="decimal">
            
                <label for="observacoes">Observa√ß√µes:</label>
                <textarea id="observacoes"></textarea>
            
                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" onclick="fecharFormulario()">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar</button>
                </div>
            </form>        
            </div>
        </form>
    </div>
</div>

<script src="clientes.js"></script>

<script>
    const token = localStorage.getItem("token");
    if (!token) window.location.href = "/login.html";
</script>

</body>
</html>
