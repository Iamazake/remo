<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Solicita√ß√µes de Empr√©stimo - REMO</title>
  <link rel="stylesheet" href="solicitacoes.css">
</head>
<body>
  <div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <img src="/logosfundo.png" class="logo" alt="Logo REMO">

      <ul>
        <li><a href="/dashboard.html">üè† Dashboard</a></li>
        <li><a href="/clientes/index.html">üë• Clientes</a></li>
        <li><a href="/emprestimos/index.html">üí∞ Empr√©stimos</a></li>
        <li><a href="/pagamentos/index.html">üìÑ Pagamentos</a></li>
        <li><a href="/relatorios/index.html">üìä Relat√≥rios</a></li>
        <li><a href="/juros/index.html">üìà Tabela de Juros</a></li>
        <li><a href="/solicitacoes/index.html" class="active">üì¨ Solicita√ß√µes</a></li>
        <li><a href="/simulador/index.html">üßÆ Simulador PMT</a></li>
      </ul>
    </aside>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="content">
      <div class="container-card">
        <div class="header">
          <div>
            <h1>Solicita√ß√µes de Empr√©stimo</h1>
            <p class="subtitle">
              Acompanhe o fluxo de aprova√ß√£o, da cria√ß√£o at√© a libera√ß√£o do valor.
            </p>
          </div>

          <button id="btnNovaSolicitacao" class="btn-primario">
            + Nova Solicita√ß√£o
          </button>
        </div>

        <div class="toolbar">
          <div class="toolbar-right">
            <input
              type="text"
              id="filtro"
              placeholder="Buscar por cliente, status ou ID..."
            />
          </div>
        </div>

        <div class="table-wrapper">
          <table class="tabela-solicitacoes">
            <thead>
              <tr>
                <th>ID</th>
                <th>Cliente</th>
                <th>Valor solicitado</th>
                <th>Parcelas</th>
                <th>Status</th>
                <th>Criado em</th>
                <th style="text-align:center;">A√ß√µes</th>
              </tr>
            </thead>
            <tbody id="lista-solicitacoes">
              <!-- preenchido via JS -->
            </tbody>
          </table>
        </div>
      </div>
    </main>
  </div>

  <!-- MODAL: NOVA SOLICITA√á√ÉO -->
  <div id="modal-solicitacao" class="modal oculto">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Nova Solicita√ß√£o</h2>
        <button class="modal-close" id="btnFecharSolic">&times;</button>
      </div>

      <form id="form-solicitacao" class="modal-body">
        <label for="sol_cliente_id">Cliente:</label>
        <select id="sol_cliente_id" required>
          <option value="">Selecione...</option>
        </select>

        <label for="sol_valor">Valor solicitado (R$):</label>
        <input type="number" id="sol_valor" step="0.01" min="0" required>

        <label for="sol_parcelas">Quantidade de parcelas:</label>
        <input type="number" id="sol_parcelas" min="1" required>

        <label for="sol_tabela_id">Tabela de juros:</label>
        <select id="sol_tabela_id">
          <option value="">-- Selecionar --</option>
        </select>

        <label for="sol_taxa_prevista">Taxa prevista (% ao m√™s)</label>
        <input
          type="number"
          id="sol_taxa_prevista"
          step="0.01"
          min="0"
          disabled
          placeholder="Definida automaticamente na aprova√ß√£o"
        />

        <div class="modal-actions">
          <button type="button" class="btn-secondary" id="btnCancelarSolic">
            Cancelar
          </button>
          <button type="submit" class="btn-primary">
            Salvar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL REUTILIZ√ÅVEL CONFIRMA√á√ÉO + MENSAGEM -->
  <div id="modal-confirmacao" class="modal oculto">
    <div class="modal-content modal-content-sm">
      <h3 id="modal-titulo">Confirma√ß√£o</h3>
      <p id="modal-mensagem"></p>

      <div id="modal-extra-field" class="modal-extra oculto">
        <label id="modal-extra-label" for="modal-extra-input"></label>
        <input id="modal-extra-input" type="text">
        <small id="modal-extra-hint" class="modal-hint"></small>
      </div>

      <div class="modal-actions">
        <button id="modal-btn-cancelar" class="btn-secondary">Cancelar</button>
        <button id="modal-btn-confirmar" class="btn-primary">Confirmar</button>
      </div>
    </div>
  </div>

  <!-- MODAL DETALHES DO CLIENTE + SOLICITA√á√ÉO -->
  <div id="modal-cliente" class="modal oculto">
    <div class="modal-content modal-content-lg">
      <div class="modal-header">
        <h2>Detalhes da Solicita√ß√£o</h2>
        <button class="modal-close" id="btnFecharCliente">&times;</button>
      </div>

      <div class="cliente-solicitacao-grid">
        <div id="cliente-detalhes" class="cliente-detalhes">
          <!-- preenchido via JS -->
        </div>

        <div id="solicitacao-detalhes" class="solicitacao-detalhes">
          <!-- preenchido via JS -->
        </div>
      </div>
    </div>
  </div>

  <script src="solicitacoes.js"></script>
</body>
</html>
